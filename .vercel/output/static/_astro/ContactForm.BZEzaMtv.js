import{s as Z,a as q,t as b,d as ee,c as v,g as c,q as k,i as d,e as u,f as re,k as j,p as te,l as S}from"./web.DpmLLRCB.js";const ae=b("<div></div>",2),D=globalThis??window;let $=typeof D.turnstile<"u"?"ready":"unloaded",M;{const n="cf__reactTurnstileOnLoad",o="https://challenges.cloudflare.com/turnstile/v0/api.js";let e;const l=new Promise((i,a)=>{e={resolve:i,reject:a},$==="ready"&&i(void 0)});D[n]=()=>{e.resolve(),$="ready"},M=()=>{if($==="unloaded"){$="loading";const i=`${o}?onload=${n}&render=explicit`,a=document.createElement("script");a.src=i,a.async=!0,a.addEventListener("error",()=>{e.reject("Failed to load Turnstile.")}),document.head.appendChild(a)}return l}}function ne(n){let o;const[e,l]=Z(n,["sitekey","action","cData","theme","tabIndex","responseField","responseFieldName","onVerify","onError","onLoad","onExpire"]);return q(i=>{if(i?.(),Object.keys(e).forEach(x=>{e[x]}),!o)return;let a=!1,g="";return(async()=>{if($!=="ready")try{await M()}catch(y){e.onError?.(y);return}if(a||!o)return;const x={sitekey:e.sitekey,action:e.action,cData:e.cData,theme:e.theme,tabindex:e.tabIndex,callback:y=>e.onVerify(y),"error-callback":()=>e.onError?.(),"expired-callback":()=>e.onExpire?.(),"response-field":e.responseField,"response-field-name":e.responseFieldName};g=window.turnstile.render(o,x),e.onLoad?.(g)})(),()=>{a=!0,g&&window.turnstile.remove(g)}}),(()=>{const i=ae.cloneNode(!0),a=o;return typeof a=="function"?a(i):o=i,ee(i,l,!1,!1),i})()}var ie=b('<div class="max-w-lg container bg-gray-100 dark:bg-gray-700 p-4 m-2 sm:p-6 sm:m-0 rounded-2xl"><h1 class="text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100 text-center">Contact Me</h1><form id=contact-form class=space-y-4 method=post><div><label for=name class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Name</label><input type=text id=name name=name class="mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 focus:ring focus:ring-opacity-50 focus:border-indigo-500 focus:ring-indigo-500 aria-invalid:border-red-500 aria-invalid:ring-red-500 aria-invalid:focus:ring-red-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"required aria-required=true><!$><!/></div><div><label for=email class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email</label><input type=email id=email name=email class="mt-1 block w-full border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 focus:ring focus:ring-opacity-50 focus:border-indigo-500 focus:ring-indigo-500 aria-invalid:border-red-500 aria-invalid:ring-red-500 aria-invalid:focus:ring-red-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"required aria-required=true><!$><!/></div><div><label for=message class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Message</label><textarea id=message name=message rows=5 class="mt-1 block w-full min-h-8 max-h-96 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 focus:ring focus:ring-opacity-50 focus:border-indigo-500 focus:ring-indigo-500 aria-invalid:border-red-500 aria-invalid:ring-red-500 aria-invalid:focus:ring-red-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"required aria-required=true></textarea><!$><!/></div><div></div><div><button type=submit class="bg-blue-500 cursor-pointer text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-600 w-full">Send Message</button></div></form><!$><!/>'),E=b('<p class="mt-1 text-sm text-red-500"role=alert>'),oe=b('<p class="mt-1 text-sm text-gray-800 dark:text-gray-200">Loading Turnstile verification...'),le=b('<div class="w-72 h-16 bg-gray-300 dark:bg-gray-800 text-black dark:text-white rounded-lg flex justify-center items-center">Turnstile is disabled in development.'),se=b("<div role=alert>");const ce=()=>{const[n,o]=v({}),[e,l]=v(null),[i,a]=v(null),[g,x]=v(!1),[y,N]=v(!1);q(()=>{typeof window<"u"&&window.location.hostname!=="localhost"&&N(!0)});const P=async m=>{m.preventDefault();const h=m.currentTarget,f=new FormData(h);if(!i()){l({text:"Please complete the Turnstile verification.",type:"error"});return}f.append("turnstileResponse",i()),o({}),l(null);try{const s=await fetch("/api/contact",{method:"POST",body:f});if(s.ok)h.reset(),a(null),l({text:"Your message has been sent!",type:"success"});else{const p=await s.json();s.status===400&&p&&typeof p=="object"?o(p):l({text:"An error occurred, please try again.",type:"error"})}}catch(s){console.error("Error sending the form: ",s),l({text:"An unexpected error occurred. Please try again later.",type:"error"})}};return(()=>{var m=c(ie),h=m.firstChild,f=h.nextSibling,s=f.firstChild,p=s.firstChild,T=p.nextSibling,O=T.nextSibling,[V,I]=k(O.nextSibling),_=s.nextSibling,R=_.firstChild,A=R.nextSibling,z=A.nextSibling,[K,Y]=k(z.nextSibling),w=_.nextSibling,B=w.firstChild,C=B.nextSibling,G=C.nextSibling,[H,J]=k(G.nextSibling),Q=w.nextSibling,U=f.nextSibling,[W,X]=k(U.nextSibling);return f.addEventListener("submit",P),d(s,(()=>{var r=u(()=>!!n().name);return()=>r()&&(()=>{var t=c(E);return d(t,()=>n().name),t})()})(),V,I),d(_,(()=>{var r=u(()=>!!n().email);return()=>r()&&(()=>{var t=c(E);return d(t,()=>n().email),t})()})(),K,Y),d(w,(()=>{var r=u(()=>!!n().message);return()=>r()&&(()=>{var t=c(E);return d(t,()=>n().message),t})()})(),H,J),d(Q,(()=>{var r=u(()=>!!y());return()=>r()?[re(ne,{sitekey:"0x4AAAAAAAfgP80mkF0iiKza",onVerify:a,onLoad:()=>{console.log("Turnstile loaded"),x(!0)},onError:t=>console.error("Turnstile error: ",t),theme:"auto"}),u(()=>u(()=>g()===!1)()&&c(oe))]:c(le)})()),d(m,(()=>{var r=u(()=>!!e());return()=>r()&&(()=>{var t=c(se);return d(t,()=>e()?.text),j(()=>te(t,`mt-4 text-center ${e()?.type==="success"?"text-green-500":"text-red-500"}`)),t})()})(),W,X),j(r=>{var t=!!n().name,F=!!n().email,L=!!n().message;return t!==r.e&&S(T,"aria-invalid",r.e=t),F!==r.t&&S(A,"aria-invalid",r.t=F),L!==r.a&&S(C,"aria-invalid",r.a=L),r},{e:void 0,t:void 0,a:void 0}),m})()};export{ce as default};
